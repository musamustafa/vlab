
## Last commit: 2020-05-07 08:31:58 UTC by jcluser
version 18.1R2-S1.4;
groups {
    GR-CORE-INTF {
        interfaces {
            <*> {
                description ********GR-CORE-INTF-SETTINGS-APPLIED-ADD-DESCRIPTION********;
                traps;
                mtu 9192;
                hold-time up 2000 down 0;
                damping {
                    half-life 30;
                    max-suppress 600;
                    reuse 250;
                    suppress 2000;
                    enable;
                }
                unit 0 {
                    bandwidth 1m;
                    traps;
                    family inet {
                        mtu 9106;
                    }
                    family iso {
                        mtu 9106;
                    }
                    family mpls {
                        mtu 9170;
                        maximum-labels 5;
                    }
                }
            }
            "<[egx][te]-*>" {
                optics-options {
                    alarm low-light-alarm {
                        link-down;
                    }
                    warning low-light-warning {
                        syslog;
                    }
                }
            }
        }
    }
}
system {
    host-name {{ aliase }}-addr-1;
    root-authentication {
        encrypted-password "$6$zaOQaTYZ$Y.hGQUCV.vJQl6k3OJACTsxtxA613I1EriuaiMIz/vHZe0V5zg/P3VK2CKTUYOsaPmsG1lgixpbqV2yolSTEy.";
    }
    scripts {
        language python;
    }
    login {
        user jcluser {
            uid 2000;
            class super-user;
            authentication {
                encrypted-password "$6$fqezb9SF$LIpEf59To7Bo.mjx8qxf/NLwuU/41m0SHkz6WYqWON0RPNqEwWkqFMdEW6iQh.yAMNQQQPY6wUu3c2lNOD6bw1";
            }
        }
    }
    services {
        ssh {
            root-login allow;
        }
        telnet;
        netconf {
            ssh {
                port 830;
            }
        }
        rest {
            http {
                port 3000;
            }
            enable-explorer;
        }
    }
    syslog {
        user * {
            any emergency;
        }
        file messages {
            any notice;
            authorization info;
        }
        file interactive-commands {
            interactive-commands any;
        }
    }
    processes {
        routing force-32-bit;
    }
}
interfaces {
    em0 {
        unit 0 {
            family inet {
                address {{ junos_host }}/{{ mgmt_sub_mask }};
            }
        }
    }
    {{ topo[inventory_hostname]["Port1"]["name"] }} {
        description NS-App:eth1;
        unit 0 {
            family inet {
                address 172.16.16.2/30;
            }
        }
    }
    {{ topo[inventory_hostname]["Port2"]["name"] }} {
        apply-groups GR-CORE-INTF;
        description vmx5-ge-0/0/4;
        unit 0 {
            family inet {
                address 7.105.199.4/24;
            }
            family iso;
        }
    }
    em3 {
        description vmx6-ge-0/0/1;
        unit 0 {
            family inet {
                address 7.106.199.4/24;
            }
            family iso;
        }
    }
    lo0 {
        unit 0 {
            family inet {
                address 7.0.0.111/32;
            }
            family iso {
                address 49.0007.0070.0000.0111.00;
            }
        }
    }
}
routing-options {
    static {
        route 0.0.0.0/0 next-hop [ {{ mgmt_sub_gw }} 7.105.199.5 ];
        route 7.105.106.0/30 next-hop 7.105.199.5;
        route 7.0.0.106/32 next-hop 7.105.199.5;
    }
    router-id 7.0.0.111;
    autonomous-system 100;
}
protocols {
    topology-export;
    mpls {
        traffic-engineering {
            database {
                import {
                    igp-topology;
                    policy isis-te;
                }
            }
        }
        interface all;
        interface em0.0 {
            disable;
        }
    }
    bgp {
        group northstar {
            type internal;
            local-address 7.105.199.4;
            family traffic-engineering {
                unicast;
            }
            allow 0.0.0.0/0;
        }
    }
    inactive: isis {
        traffic-engineering igp-topology;
        level 1 disable;
        level 2 wide-metrics-only;
        interface {{ topo[inventory_hostname]["Port2"]["name"] }}.0 {
            point-to-point;
            level 2 metric 1000;
        }
        interface em3.0 {
            point-to-point;
            level 2 metric 1000;
        }
    }
}
policy-options {
    policy-statement isis-te {
        term 1 {
            from protocol isis;
            inactive: to family traffic-engineering;
            then accept;
        }
    }
}
